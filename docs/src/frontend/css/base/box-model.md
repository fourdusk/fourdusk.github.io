---
title: 盒模型
description: 当对一个文档进行布局时，浏览器的渲染引擎默认会根据标准的 CSS 基本盒模型将每个元素表示为一个矩形的盒子。CSS 决定这些盒子的大小、位置和属性(颜色、背景、边框大小等)。每个盒子由 4 个部分组成：内容 (content)、内边距 (padding)、边框 (border)、外边距 (margin)。
tags:
  - CSS
injectDocBefore: true
---

## 盒模型类型

![Box Model](/box-model.png)

### 1. W3C 盒模型（标准盒模型）

在标准盒模型中 (box-sizing: content-box)，设置元素的宽高 (width，height) 只是指内容区域的宽高，不包含内边距、边框和外边距

### 2. IE 盒模型（IE 盒模型）

在 IE 盒模型中 (box-sizing: border-box)，设置元素的宽高 (width，height) 指的是内容区域、内边距、边框，不包含外边距

## 外边距折叠

相邻盒子的顶部和底部外边距有时会合并(折叠)成一个单独的外边距，其大小是单个外边距中最大的(或者只是其中一个，如果它们相等的话) ，这种行为称为外边距折叠。注意，浮动元素和绝对定位元素的外边距不会折叠，display 设置为 flex 或 grid 的容器中也不会发生外边距折叠。

以下情况会形成外边距折叠

### 1. 相邻元素的外边距折叠

- 当两个相邻的块级元素的上下外边距相接时，它们的外边距会合并。

- 例如，两个段落（p 元素）之间的外边距，如果一个段落的 margin-bottom 为 20px，另一个段落的 margin-top 为 30px，最终的间距为 30px，而不是 50px。

### 2. 父元素与第一个/最后一个子元素的外边距折叠

- 父元素的外边距与其第一个子元素的外边距会合并。

- 例如，父元素的 margin-top 为 30px，子元素的 margin-top 为20px，最终的距离为 30px，而不是 50px。

### 3. 空的块级元素的外边距折叠

- 如果一个块级元素没有内容（即为空），其上下外边距会合并。

- 例如，一个高度为 0 的 div，其 margin-top 和 margin-bottom 都为 10px，最终的外边距为 10px，而不是 20px。

### 4. 负外边距的情况

- 如果参与折叠的外边距中包含负值，折叠后的外边距的值为最大的正边距与最小的负边距的和。

- 例如，margin-top 为 30px，margin-bottom 为 -20px，最终的外边距为 10px。

### 5. 如何防止外边距折叠

如果不希望外边距折叠，可以创建新的块级格式化上下文来解决。
